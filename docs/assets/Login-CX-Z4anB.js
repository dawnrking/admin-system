import{d as V,r as h,c as m,u as j,_ as k,a as C,b as c,e as P,f as s,w as l,g as w,h as f,o as S,i as z,j as x,k as H,M as b}from"./index-B4wjXhve.js";import{u as M}from"./user-DGmuysry.js";import{u as D}from"./user-CHgagueP.js";import"./index-BJc8UowC.js";function _(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);n&&(e=e.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,e)}return a}function y(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?_(Object(a),!0).forEach(function(e){k(r,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(a,e))})}return r}var N={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 3C14.2091 3 16 4.79086 16 7V10H8V7C8 4.79086 9.79086 3 12 3ZM18 10V7C18 3.68629 15.3137 1 12 1C8.68629 1 6 3.68629 6 7V10H3.5V22H20.5V10H18ZM5.5 12H18.5V20H5.5V12ZM9 15H15V17H9V15Z"}}]},B=V({name:"LockOnIcon",props:{size:{type:String},onClick:{type:Function}},setup(r,n){var{attrs:a}=n,e=m(()=>r.size),{className:o,style:v}=j(e),p=m(()=>["t-icon","t-icon-lock-on",o.value]),t=m(()=>y(y({},v.value),a.style)),d=m(()=>({class:p.value,style:t.value,onClick:i=>{var u;return(u=r.onClick)===null||u===void 0?void 0:u.call(r,{e:i})}}));return()=>h(N,d.value)}});const Z={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500"},E={class:"relative z-10 w-full max-w-md mx-4"},L={class:"bg-white rounded-2xl shadow-2xl p-8"},K=V({__name:"Login",setup(r){const n=z(),a=M(),e=w({username:"",password:""}),o=w(!1),v=async()=>{if(!e.value.username||!e.value.password){b.warning("请输入用户名和密码");return}o.value=!0;const p=await a.login(e.value.username,e.value.password);o.value=!1,p?(b.success("登录成功"),n.push("/")):b.error("用户名或密码错误")};return(p,t)=>{const d=f("t-input"),i=f("t-form-item"),u=f("t-button"),O=f("t-form");return S(),C("div",Z,[t[5]||(t[5]=c("div",{class:"absolute inset-0 bg-black/20"},null,-1)),c("div",E,[c("div",L,[t[3]||(t[3]=P('<div class="text-center mb-8"><div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4"><span class="text-white text-2xl font-bold">A</span></div><h1 class="text-2xl font-bold text-gray-800">后台管理系统</h1><p class="text-gray-500 mt-2">请登录您的账户</p></div>',1)),s(O,{data:e.value,onSubmit:v},{default:l(()=>[s(i,{name:"username"},{default:l(()=>[s(d,{modelValue:e.value.username,"onUpdate:modelValue":t[0]||(t[0]=g=>e.value.username=g),placeholder:"请输入用户名",size:"large",clearable:""},{"prefix-icon":l(()=>[s(x(D))]),_:1},8,["modelValue"])]),_:1}),s(i,{name:"password"},{default:l(()=>[s(d,{modelValue:e.value.password,"onUpdate:modelValue":t[1]||(t[1]=g=>e.value.password=g),type:"password",placeholder:"请输入密码",size:"large",clearable:""},{"prefix-icon":l(()=>[s(x(B))]),_:1},8,["modelValue"])]),_:1}),s(i,null,{default:l(()=>[s(u,{theme:"primary",type:"submit",block:"",size:"large",loading:o.value},{default:l(()=>[...t[2]||(t[2]=[H(" 登 录 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1},8,["data"]),t[4]||(t[4]=c("div",{class:"mt-6 text-center text-sm text-gray-500"},[c("p",null,"演示账号: admin / admin123")],-1))])])])}}});export{K as default};
